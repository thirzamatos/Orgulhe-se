<!-- Banner com fundo -->
<div class="position-relative text-center text-white" style="background-image: url('assets/avatar.jpg'); background-size: cover; background-position: center; height: 300px;">
  <div class="position-absolute top-50 start-50 translate-middle">
    <!-- Avatar -->
    <img src="assets/Gary.jpg" alt="Avatar" class="rounded-circle border border-white" style="width: 120px; height: 120px; object-fit: cover;">

    <!-- Nome do vendedor -->
    <h4 class="mt-3 text-white fw-bold">Nome do vendedor</h4>

    <!-- Estrelas -->
    <div>
      <span class="text-warning">&#9733;</span>
      <span class="text-white">&#9734;&#9734;&#9734;&#9734;</span>
    </div>

    <!-- Avaliações -->
    <small class="text-light">0 avaliações</small>

    <!-- Botão -->
    <div class="mt-2">
      <button class="btn btn-secondary btn-sm px-3 rounded-pill fw-bold">+ Adicionar Produto</button>
    </div>
  </div>
</div>


<!-- Seção de Estatísticas -->
<div class="p-4" style="background-color: #dddddd;">
  <h5 class="fw-bold">Estatísticas</h5>
  <div class="d-flex flex-row mt-3">
    <div class="d-flex flex-column flex-grow-1">
      <span class="mb-2">Vendas totais</span>
      <span class="mb-2">Clientes</span>
      <span class="mb-2">Produtos Vendidos</span>
      <span>Taxa de Conversão</span>
    </div>
    <div class="d-flex flex-column align-items-end">
      <span class="fw-semibold mb-2">R$4.500,00</span>
      <span class="fw-semibold mb-2">150</span>
      <span class="fw-semibold mb-2">200</span>
      <span class="fw-semibold">30%</span>
    </div>
  </div>
</div>

<div class="bg-secondary-subtle py-2 border-top">
  <div class="container d-flex justify-content-between text-center fw-bold gap-2">
    <button class="btn btn-outline-secondary flex-fill"
      [ngClass]="{'aba-ativa': aba === 'dashboard'}"
      (click)="aba = 'dashboard'">Dashboard</button>
    <button class="btn btn-outline-secondary flex-fill"
      [ngClass]="{'aba-ativa': aba === 'produtos'}"
      (click)="aba = 'produtos'">Produtos</button>
    <button class="btn btn-outline-secondary flex-fill"
      [ngClass]="{'aba-ativa': aba === 'pedidos'}"
      (click)="aba = 'pedidos'">Pedidos</button>
    <button class="btn btn-outline-secondary flex-fill"
      [ngClass]="{'aba-ativa': aba === 'mensagens'}"
      (click)="aba = 'mensagens'">Mensagens</button>
    <button class="btn btn-outline-secondary flex-fill"
      [ngClass]="{'aba-ativa': aba === 'avaliacoes'}"
      (click)="aba = 'avaliacoes'">Avaliações</button>
  </div>
</div>

<!-- Chat só aparece quando aba === 'mensagens' -->
<div class="container-fluid mt-4" *ngIf="aba === 'mensagens'">
  <div class="container-fluid mt-4">
    <h5 class="fw-bold">Mensagem</h5>

    <div class="row border mt-3" style="height: 500px;">
      <!-- Lista de conversas -->
      <div class="col-md-3 border-end bg-light p-2">
        <h6 class="fw-bold mb-3">Conversas</h6>
        <div class="d-flex align-items-center p-2 border mb-2 bg-white rounded cursor-pointer" style="cursor: pointer;">
          <img src="assets/hornet.png" class="rounded-circle me-2" width="40" height="40">
          <strong>Hornet</strong>
        </div>
        <!-- Adicione mais clientes conforme necessário -->
      </div>

      <!-- Janela do chat -->
      <div class="col-md-9 d-flex flex-column bg-body-secondary">
        <!-- Cabeçalho do chat -->
        <div class="d-flex align-items-center border-bottom p-2 bg-light">
          <img src="assets/hornet.png" class="rounded-circle me-2" width="40" height="40">
          <div>
            <strong>Hornet</strong><br>
            <small>Pedido #123456</small>
          </div>
        </div>

        <!-- Corpo das mensagens -->
        <div class="flex-grow-1 overflow-auto p-3">
          <div class="bg-light p-2 mb-2 rounded w-75">Olá, gostaria de saber sobre meu pedido.</div>
          <div class="bg-secondary text-white p-2 mb-2 rounded w-75 ms-auto">Claro! Já foi enviado hoje.</div>
        </div>

        <!-- Campo de mensagem -->
        <div class="p-3 border-top">
          <input type="text" class="form-control rounded-pill" placeholder="Digite sua mensagem...">
        </div>
      </div>
    </div>
  </div>
</div>



<!-- Avaliações só aparece quando aba === 'avaliacoes' -->
<div class="container-fluid mt-4" *ngIf="aba === 'avaliacoes'">
  <div class="container-fluid mt-4">
    <h5 class="fw-bold mb-4">Avaliações dos Clientes</h5>
    <!-- Exemplo de avaliação -->
    <div class="card mb-3">
      <div class="card-body">
        <div class="d-flex align-items-center mb-2">
          <img src="assets/dedo.png" class="rounded-circle me-2" width="40" height="40" alt="Cliente">
          <div>
            <strong>João Silva</strong>
            <span class="ms-2 text-warning">&#9733;&#9733;&#9733;&#9733;&#9734;</span>
          </div>
        </div>
        <p class="mb-1">Ótimo vendedor, entrega rápida e produto conforme anunciado!</p>
        <small class="text-muted">2 dias atrás</small>
      </div>
    </div>
    <!-- Outra avaliação exemplo -->
    <div class="card mb-3">
      <div class="card-body">
        <div class="d-flex align-items-center mb-2">
          <img src="assets/jujuba.png" class="rounded-circle me-2" width="40" height="40" alt="Cliente">
          <div>
            <strong>Maria Souza</strong>
            <span class="ms-2 text-warning">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
        <p class="mb-1">Excelente atendimento, recomendo!</p>
        <small class="text-muted">1 semana atrás</small>
      </div>
    </div>
    <!-- Adicione mais avaliações conforme necessário -->
    <div *ngIf="false" class="text-center text-muted">Nenhuma avaliação encontrada.</div>
  </div>
</div>



<!-- Pedidos só aparece quando aba === 'pedidos' -->
<div class="container-fluid mt-4" *ngIf="aba === 'pedidos'">
  <div class="container-fluid mt-4">
    <h5 class="fw-bold mb-4">Pedidos Recentes</h5>
    <!-- Área de busca -->
    <div class="mb-3">
      <input type="text" class="form-control" placeholder="Buscar pedido ou cliente..."
        [(ngModel)]="buscaPedido">
    </div>
    <!-- Tabela de pedidos -->
    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th>Pedido</th>
            <th>Cliente</th>
            <th>Data</th>
            <th>Status</th>
            <th>Total</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pedido of pedidosFiltrados">
            <td>{{ pedido.id }}</td>
            <td>{{ pedido.cliente }}</td>
            <td>{{ pedido.data }}</td>
            <td>
              <span class="badge status-badge"
                [ngClass]="{
                  'status-entregue': pedido.status === 'entregue',
                  'status-processando': pedido.status === 'processando',
                  'status-enviado': pedido.status === 'enviado',
                  'status-cancelado': pedido.status === 'cancelado'
                }">
                {{
                  pedido.status === 'entregue' ? 'Entregue' :
                  pedido.status === 'processando' ? 'Processando' :
                  pedido.status === 'enviado' ? 'Enviado' : 'Cancelado'
                }}
              </span>
            </td>
            <td>{{ pedido.total }}</td>
            <td>
              <button class="btn btn-outline-secondary btn-sm me-1" title="Imprimir">
                <i class="bi bi-printer"></i>
              </button>
              <button class="btn btn-outline-primary btn-sm" title="Visualizar">
                <i class="bi bi-eye"></i>
              </button>
            </td>
          </tr>
          <tr *ngIf="pedidosFiltrados.length === 0">
            <td colspan="6" class="text-center text-muted">Nenhum pedido encontrado.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<!-- produtos só aparece quando aba === 'produtos' -->
<div class="container-fluid mt-4" *ngIf="aba === 'produtos'">
  <div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="fw-bold mb-0">Meus Produtos Cadastrados</h5>
      <button class="btn btn-success fw-bold">
        + Adicionar Produto
      </button>
    </div>
    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th>Produto</th>
            <th>Estoque</th>
            <th>Status</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produto of meusProdutos">
            <td>
              <div class="d-flex align-items-center">
                <img [src]="produto.imagem" alt="Produto" width="48" height="48" class="rounded me-2" style="object-fit:cover;">
                <span>{{ produto.nome }}</span>
              </div>
            </td>
            <td>{{ produto.estoque }}</td>
            <td>
              <span class="badge" [ngClass]="produto.status === 'ativo' ? 'bg-success' : 'bg-secondary'">
                {{ produto.status === 'ativo' ? 'Ativo' : 'Desativado' }}
              </span>
            </td>
            <td>
              <button class="btn btn-outline-danger btn-sm" title="Excluir" (click)="excluirProduto(produto)">
                <i class="bi bi-trash"></i>
              </button>
            </td>
          </tr>
          <tr *ngIf="meusProdutos.length === 0">
            <td colspan="4" class="text-center text-muted">Nenhum produto cadastrado.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>



<!-- Dashboard só aparece quando aba === 'dashboard' -->
<div class="container-fluid mt-4" *ngIf="aba === 'dashboard'">
  <div class="container-fluid mt-4">
    <h5 class="fw-bold mb-4">Dashboard</h5>
    <div class="row g-4">
      <!-- Valor total das vendas -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6 class="fw-bold">Vendas de Hoje</h6>
            <div class="fs-4 fw-bold mb-2">R$ {{ dashboard.vendasHoje | number:'1.2-2' }}</div>
            <span [ngClass]="variacaoVendas >= 0 ? 'text-success' : 'text-danger'">
              <i class="bi" [ngClass]="variacaoVendas >= 0 ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
              {{ variacaoVendas | number:'1.1-1' }}%
              <small class="text-muted">em relação a ontem</small>
            </span>
          </div>
        </div>
      </div>
      <!-- Quantidade de pedidos -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6 class="fw-bold">Pedidos de Hoje</h6>
            <div class="fs-4 fw-bold mb-2">{{ dashboard.pedidosHoje }}</div>
            <span [ngClass]="variacaoPedidos >= 0 ? 'text-success' : 'text-danger'">
              <i class="bi" [ngClass]="variacaoPedidos >= 0 ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
              {{ variacaoPedidos | number:'1.1-1' }}%
              <small class="text-muted">em relação a ontem</small>
            </span>
          </div>
        </div>
      </div>
      <!-- Taxa de conversão -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6 class="fw-bold">Taxa de Conversão</h6>
            <div class="fs-4 fw-bold mb-2">{{ (dashboard.conversaoHoje * 100) | number:'1.1-1' }}%</div>
            <span [ngClass]="variacaoConversao >= 0 ? 'text-success' : 'text-danger'">
              <i class="bi" [ngClass]="variacaoConversao >= 0 ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
              {{ variacaoConversao | number:'1.1-1' }}%
              <small class="text-muted">em relação a ontem</small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
